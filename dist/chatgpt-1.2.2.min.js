(function(){var chatGPTauthURL="https://chat.openai.com/api/auth/session";var autoRefreshTimer=60;var functionAliases=[["activateAutoRefresh","activateAutoRefresher","activateRefresher","activateSessionRefresher","autoRefresh","autoRefresher","autoRefreshSession","refresher","sessionRefresher"],["deactivateAutoRefresh","deactivateAutoRefresher","deactivateRefresher","deactivateSessionRefresher"],["new","newChat","startNewChat"],["printAllFunctions","showAllFunctions"],["refreshSession","sessionRefresh"],["refreshReply","regenerate","regenerateReply"],["send","sendChat","sendMsg"],["sendInNewChat","sendNewChat"],["stop","stopGenerating"],["toggleScheme","toggleMode"],["toggleAutoRefresh","toggleAutoRefresher","toggleRefresher","toggleSessionRefresher"]];var synonyms=[["activate","turnOn"],["chat","conversation","convo"],["generating","generation"],["reply","response"],["send","submit"]];var targetTypes=["button","link","div","response"];var navLinkLabels={clearChats:"Clear conversations",confirmClearChats:"Confirm clear conversations",newChat:"New chat"};var chatgpt={activateAutoRefresh:function(secInterval=""){if(!this.activateAutoRefresh.intervalId){console.info("Auto refresh activated");this.activateAutoRefresh.intervalId=setInterval(function(){var xhr=new XMLHttpRequest;xhr.open("GET",chatGPTauthURL);xhr.send();console.info("ChatGPT session refreshed")},(secInterval?+secInterval:autoRefreshTimer)*1e3)}else{console.info("Auto refresh already active!")}},activateDarkMode:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.toLowerCase().includes("dark mode")){navLink.click();return}}},activateLightMode:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.toLowerCase().includes("light mode")){navLink.click();return}}},clearChats:function(){if(!this.clearChats.cnt)this.clearChats.cnt=0;for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.includes(navLinkLabels[(this.clearChats.cnt>0?"confirmC":"c")+"learChats"])){navLink.click();this.clearChats.cnt++;if(this.clearChats.cnt<2){setTimeout(this.clearChats.bind(this),500)}else{this.clearChats.cnt=0}return}}},deactivateAutoRefresh:function(){console.info(this.activateAutoRefresh.intervalId?"Auto refresh de-activated":"Refresher is not running!");clearInterval(this.activateAutoRefresh.intervalId);this.activateAutoRefresh.intervalId=null},get:function(targetType,targetName=""){if(typeof targetType!=="string"||typeof targetName!=="string"){throw new TypeError("Invalid arguments. Both arguments must be strings.")}if(!targetTypes.includes(targetType.toLowerCase())){throw new Error("Invalid targetType: "+targetType+". Valid values are: "+JSON.stringify(targetTypes))}var targetNames=[],reTargetName=new RegExp("^get(.*)"+targetType+"$","i");for(var prop in this){if(typeof this[prop]==="function"&&prop.match(reTargetName)){targetNames.push(prop.replace(reTargetName,"$1").toLowerCase())}}if(!targetNames.includes(targetName.toLowerCase())){throw new Error("Invalid targetName: "+targetName+". "+(targetNames.length>0?"Valid values are: "+JSON.stringify(targetNames):"targetType "+targetType.toLowerCase()+" does not require additional options."))}var targetFuncNameLower=("get"+targetName+targetType).toLowerCase();var targetFuncName=Object.keys(this).find(function(name){return name.toLowerCase()===targetFuncNameLower});return this[targetFuncName]()},getChatInput:function(){return document.querySelector("form textarea").value},getLastResponse:function(){var responseDivs=document.querySelectorAll("main div[class*=group]");if(responseDivs.length<2)return"";return responseDivs[responseDivs.length-1].textContent},getLastResponseDiv:function(){var responseDivs=document.querySelectorAll("main div[class*=group]");return responseDivs[responseDivs.length-1]},getNewChatLink:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.includes(navLinkLabels.newChat)){return navLink}}},getRegenerateButton:function(){for(var formButton of document.querySelectorAll("form button")){if(formButton.textContent.toLowerCase().includes("regenerate")){return formButton}}},getResponse:function(pos){var responseDivSelector="main div[class*=group]";var strPos=pos.toString().toLowerCase();if(/last|final/.test(strPos)){var responseDivs=document.querySelectorAll(responseDivSelector);if(responseDivs.length<2)return"";return responseDivs[responseDivs.length-1].textContent}else{var nthOfResponse=(Number.isInteger(pos)?pos:strPos.match(/^\d+/)?strPos.match(/^\d+/)[0]:(/^(1|one|fir)(st)?$/.test(strPos)?1:/^(2|tw(o|en|el(ve|f))|seco)(nd|t[yi])?(e?th)?$/.test(strPos)?2:/^(3|th(ree|ir?))(rd|teen|t[yi])?(e?th)?$/.test(strPos)?3:/^(4|fou?r)(teen|t[yi])?(e?th)?$/.test(strPos)?4:/^(5|fi(ve|f))(teen|t[yi])?(e?th)?$/.test(strPos)?5:/^(6|six)(teen|t[yi])?(e?th)?$/.test(strPos)?6:/^(7|seven)(teen|t[yi])?(e?th)?$/.test(strPos)?7:/^(8|eight?)(teen|t[yi])?(e?th)?$/.test(strPos)?8:/^(9|nine?)(teen|t[yi])?(e?th)?$/.test(strPos)?9:/^(10|ten)(th)?$/.test(strPos)?10:1)*(/ty|ieth$/.test(strPos)?10:1)+(/teen(th)?$/.test(strPos)?10:0))*2;var responseDiv=document.querySelector(`${responseDivSelector}:nth-of-type(${nthOfResponse})`);return responseDiv?responseDiv.textContent:""}},getSendButton:function(){return document.querySelector('form button[class*="bottom"]')},getStopGeneratingButton:function(){for(var formButton of document.querySelectorAll("form button")){if(formButton.textContent.toLowerCase().includes("stop")){return formButton}}},getTextarea:function(){return document.querySelector("form textarea")},notify:function(msg,position="",notifDuration=""){notifDuration=notifDuration?+notifDuration:1.75;var fadeDuration=.6;var vpYoffset=13,vpXoffset=27;var notificationDiv=document.createElement("div");notificationDiv.style.cssText="/* Box style */   background-color: black ; padding: 10px ; border-radius: 8px ; "+"/* Visibility */  opacity: 0 ; position: fixed ; z-index: 9999 ; font-size: 1.8rem ; color: white";document.body.appendChild(notificationDiv);notificationDiv.isTop=!/low|bottom/i.test(position)?true:false;notificationDiv.isRight=!/left/i.test(position)?true:false;notificationDiv.quadrant=(notificationDiv.isTop?"top":"bottom")+(notificationDiv.isRight?"Right":"Left");for(var quadrant of["topRight","bottomRight","bottomLeft","topLeft"]){if(!this.notify[quadrant])this.notify[quadrant]=[]}var thisQuadrantDivs=this.notify[notificationDiv.quadrant];thisQuadrantDivs.push(notificationDiv);notificationDiv.style.top=notificationDiv.isTop?`${vpYoffset}px`:"";notificationDiv.style.bottom=!notificationDiv.isTop?`${vpYoffset}px`:"";notificationDiv.style.right=notificationDiv.isRight?`${vpXoffset}px`:"";notificationDiv.style.left=!notificationDiv.isRight?`${vpXoffset}px`:"";if(thisQuadrantDivs.length>1){var divsToMove=thisQuadrantDivs.slice(0,-1);for(var oldDiv of divsToMove){var offsetProp=oldDiv.style.top?"top":"bottom";var vOffset=+oldDiv.style[offsetProp].match(/\d+/)[0]+5+oldDiv.getBoundingClientRect().height;oldDiv.style[offsetProp]=`${vOffset}px`}}notificationDiv.innerHTML=msg;notificationDiv.style.transition="none";notificationDiv.style.opacity=1;var hideDelay=fadeDuration>notifDuration?0:notifDuration-fadeDuration;notificationDiv.hideTimer=setTimeout(function hideNotif(){notificationDiv.style.transition=`opacity ${fadeDuration}s`;notificationDiv.style.opacity=0;notificationDiv.hideTimer=null},hideDelay*1e3);notificationDiv.destroyTimer=setTimeout(function destroyNotif(){notificationDiv.remove();thisQuadrantDivs.shift();notificationDiv.destroyTimer=null},Math.max(fadeDuration,notifDuration)*1e3)},printAllFunctions:function(){var functionNames=[];for(var prop in this){if(typeof this[prop]==="function"){functionNames.push(prop)}}functionNames.sort();for(var functionName of functionNames){console.info(functionName+": ["+(functionName===this[functionName].name?"Function":"Alias of")+": "+this[functionName].name+"]")}},refreshSession:function(){var xhr=new XMLHttpRequest;xhr.open("GET",chatGPTauthURL);xhr.send();console.info("ChatGPT session refreshed")},regenerate:function(){for(var formButton of document.querySelectorAll("form button")){if(formButton.textContent.toLowerCase().includes("regenerate")){formButton.click;return}}},scrollToBottom:function(){document.querySelector('button[class*="cursor"]').click()},send:function(msg){document.querySelector("form textarea").value=msg;document.querySelector('form button[class*="bottom"]').click()},sendInNewChat:function(msg){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.includes(navLinkLabels.newChat)){navLink.click();break}}setTimeout(function(){document.querySelector("form textarea").value=msg;document.querySelector('form button[class*="bottom"]').click()},500)},startNewChat:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.includes(navLinkLabels.newChat)){navLink.click();return}}},stop:function(){for(var formButton of document.querySelectorAll("form button")){if(formButton.textContent.toLowerCase().includes("stop")){formButton.click();return}}},toggleAutoRefresh:function(secInterval=""){if(!this.activateAutoRefresh.intervalId){console.info("Auto refresh activated");this.activateAutoRefresh.intervalId=setInterval(function(){var xhr=new XMLHttpRequest;xhr.open("GET",chatGPTauthURL);xhr.send();console.info("ChatGPT session refreshed")},(secInterval?+secInterval:autoRefreshTimer)*1e3)}else{clearInterval(this.activateAutoRefresh.intervalId);this.activateAutoRefresh.intervalId=null;console.info("Auto refresh deactivated")}},toggleScheme:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.toLowerCase().includes("mode")){navLink.click();return}}}};var buttonActions=["click","get"];for(var buttonAction of buttonActions){chatgpt[buttonAction+"Button"]=function handleButton(buttonIdentifier){var button=buttonIdentifier.match(/^[.#]/)?document.querySelector(buttonIdentifier):/send/i.test(buttonIdentifier)?document.querySelector('form button[class*="bottom"]'):/scroll/i.test(buttonIdentifier)?document.querySelector('button[class*="cursor"]'):function(){for(var button of document.querySelectorAll("button")){if(button.textContent.toLowerCase().includes(buttonIdentifier.toLowerCase())){return button}}for(var navLink of document.querySelectorAll("nav > a")){if(navLink.textContent.toLowerCase().includes(buttonIdentifier.toLowerCase())){return navLink}}}();if(buttonAction==="click"){button.click()}else{return button}}}for(var prop in chatgpt){if(typeof chatgpt[prop]==="function"){for(var subAliases of functionAliases){if(subAliases.includes(prop)){for(var alias of subAliases){if(alias!==prop){chatgpt[alias]=chatgpt[prop]}}}}do{var newFunctionsCreated=false;for(var funcName in chatgpt){if(typeof chatgpt[funcName]==="function"){var funcWords=funcName.split(/(?=[A-Zs])/);for(var funcWord of funcWords){var synonymValues=[].concat(...synonyms.filter(arr=>arr.includes(funcWord.toLowerCase())).map(arr=>arr.filter(synonym=>synonym!==funcWord.toLowerCase())));for(var synonym of synonymValues){var newWords=[...funcWords];newWords[newWords.indexOf(funcWord)]=synonym;var newFuncName=newWords.map((newWord,index)=>index===0||newWord==="s"?newWord:newWord.charAt(0).toUpperCase()+newWord.slice(1)).join("");if(!chatgpt[newFuncName]){chatgpt[newFuncName]=chatgpt[funcName];newFunctionsCreated=true}}}}}}while(newFunctionsCreated)}}try{window.chatgpt=chatgpt}catch(error){}try{module.exports=chatgpt}catch(error){}})();