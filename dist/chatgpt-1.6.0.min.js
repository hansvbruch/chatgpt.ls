(function(){var notifyProps={quadrants:{topRight:[],bottomRight:[],bottomLeft:[],topLeft:[]}};localStorage.notifyProps=JSON.stringify(notifyProps);var functionAliases=[["activateAutoRefresh","activateAutoRefresher","activateRefresher","activateSessionRefresher","autoRefresh","autoRefresher","autoRefreshSession","refresher","sessionRefresher"],["deactivateAutoRefresh","deactivateAutoRefresher","deactivateRefresher","deactivateSessionRefresher"],["new","newChat","startNewChat"],["printAllFunctions","showAllFunctions"],["refreshSession","sessionRefresh"],["refreshReply","regenerate","regenerateReply"],["send","sendChat","sendMsg"],["sendInNewChat","sendNewChat"],["stop","stopGenerating"],["toggleScheme","toggleMode"],["toggleAutoRefresh","toggleAutoRefresher","toggleRefresher","toggleSessionRefresher"]];var synonyms=[["activate","turnOn"],["chat","conversation","convo"],["generating","generation"],["reply","response"],["send","submit"]];var targetTypes=["button","link","div","response"];var navLinkLabels={clearChats:"Clear conversations",confirmClearChats:"Confirm clear conversations",newChat:"New chat"};var chatgpt={autoRefresh:{activate:function(interval){if(this.isActive){console.info("↻ ChatGPT >> ["+chatgpt.autoRefresh.nowTimeStamp()+"] Auto refresh already active!");return}var autoRefresh=this;this.toggle.refreshFrame();scheduleRefreshes(interval?parseInt(interval):30);console.info("↻ ChatGPT >> ["+chatgpt.autoRefresh.nowTimeStamp()+"] Auto refresh activated");if(navigator.userAgent.includes("Chrome")&&typeof document.hidden!=="undefined"){document.addEventListener("visibilitychange",this.toggle.beacons)}function scheduleRefreshes(interval){var randomDelay=Math.max(2,Math.floor(Math.random()*21-10));autoRefresh.isActive=setTimeout(function(){var refreshFrame=document.querySelector("#refresh-frame");var manifestScript=document.querySelector('script[src*="_ssgManifest.js"]');refreshFrame.src=manifestScript.src+"?"+Date.now();console.info("↻ ChatGPT >> ["+autoRefresh.nowTimeStamp()+"] ChatGPT session refreshed");scheduleRefreshes(interval)},(interval+randomDelay)*1e3)}},deactivate:function(){if(this.isActive){this.toggle.refreshFrame();document.removeEventListener("visibilitychange",this.toggle.beacons);clearTimeout(this.isActive);this.isActive=null;console.info("↻ ChatGPT >> ["+chatgpt.autoRefresh.nowTimeStamp()+"] Auto refresh de-activated")}else{console.info("↻ ChatGPT >> ["+chatgpt.autoRefresh.nowTimeStamp()+"] Auto refresh already inactive!")}},nowTimeStamp:function(){var now=new Date;var hours=now.getHours()%12||12;var minutes=now.getMinutes();var seconds=now.getSeconds();if(minutes<10)minutes="0"+minutes;if(seconds<10)seconds="0"+seconds;var meridiem=now.getHours()<12?"AM":"PM";return hours+":"+minutes+":"+seconds+" "+meridiem},toggle:{beacons:function(){if(chatgpt.autoRefresh.beaconID){clearInterval(chatgpt.autoRefresh.beaconID);chatgpt.autoRefresh.beaconID=null;console.info("↻ ChatGPT >> ["+chatgpt.autoRefresh.nowTimeStamp()+"] Beacons de-activated")}else{chatgpt.autoRefresh.beaconID=setInterval(function(){navigator.sendBeacon("https://httpbin.org/post",new Uint8Array);console.info("↻ ChatGPT >> ["+chatgpt.autoRefresh.nowTimeStamp()+"] Beacon sent")},9e4);console.info("↻ ChatGPT >> ["+chatgpt.autoRefresh.nowTimeStamp()+"] Beacons activated")}},refreshFrame:function(){var refreshFrame=document.querySelector("#refresh-frame");if(refreshFrame)refreshFrame.remove();else{refreshFrame=Object.assign(document.createElement("iframe"),{id:"refresh-frame",style:"display: none"});document.head.prepend(refreshFrame)}}}},activateDarkMode:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.toLowerCase().includes("dark mode")){navLink.click();return}}},activateLightMode:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.toLowerCase().includes("light mode")){navLink.click();return}}},clearChats:function(){var headlessMenu=document.querySelector('nav button[id*="headless"]');if(!this.clearChats.cnt)this.clearChats.cnt=0;if(this.clearChats.cnt==0){headlessMenu.click();headlessMenu.blur()}setTimeout(function clearThenConfirm(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.includes(navLinkLabels[(this.clearChats.cnt>0?"confirmC":"c")+"learChats"])){navLink.click();this.clearChats.cnt++;if(this.clearChats.cnt<2){setTimeout(this.clearChats.bind(this),500)}else{this.clearChats.cnt=0}return}else{headlessMenu.click();headlessMenu.blur()}}}.bind(this),100)},get:function(targetType,targetName=""){if(typeof targetType!=="string"||typeof targetName!=="string"){throw new TypeError("Invalid arguments. Both arguments must be strings.")}if(!targetTypes.includes(targetType.toLowerCase())){throw new Error("Invalid targetType: "+targetType+". Valid values are: "+JSON.stringify(targetTypes))}var targetNames=[],reTargetName=new RegExp("^get(.*)"+targetType+"$","i");for(var prop in this){if(typeof this[prop]==="function"&&prop.match(reTargetName)){targetNames.push(prop.replace(reTargetName,"$1").toLowerCase())}}if(!targetNames.includes(targetName.toLowerCase())){throw new Error("Invalid targetName: "+targetName+". "+(targetNames.length>0?"Valid values are: "+JSON.stringify(targetNames):"targetType "+targetType.toLowerCase()+" does not require additional options."))}var targetFuncNameLower=("get"+targetName+targetType).toLowerCase();var targetFuncName=Object.keys(this).find(function(name){return name.toLowerCase()===targetFuncNameLower});return this[targetFuncName]()},getChatInput:function(){return document.querySelector("form textarea").value},getLastResponse:function(){var responseDivs=document.querySelectorAll("main div[class*=group]");if(responseDivs.length<2)return"";return responseDivs[responseDivs.length-1].textContent},getLastResponseDiv:function(){var responseDivs=document.querySelectorAll("main div[class*=group]");return responseDivs[responseDivs.length-1]},getNewChatLink:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.includes(navLinkLabels.newChat)){return navLink}}},getRegenerateButton:function(){for(var formButton of document.querySelectorAll("form button")){if(formButton.textContent.toLowerCase().includes("regenerate")){return formButton}}},getResponse:function(pos){var responseDivSelector="main div[class*=group]";var strPos=pos.toString().toLowerCase();if(/last|final/.test(strPos)){var responseDivs=document.querySelectorAll(responseDivSelector);if(responseDivs.length<2)return"";return responseDivs[responseDivs.length-1].textContent}else{var nthOfResponse=(Number.isInteger(pos)?pos:strPos.match(/^\d+/)?strPos.match(/^\d+/)[0]:(/^(1|one|fir)(st)?$/.test(strPos)?1:/^(2|tw(o|en|el(ve|f))|seco)(nd|t[yi])?(e?th)?$/.test(strPos)?2:/^(3|th(ree|ir?))(rd|teen|t[yi])?(e?th)?$/.test(strPos)?3:/^(4|fou?r)(teen|t[yi])?(e?th)?$/.test(strPos)?4:/^(5|fi(ve|f))(teen|t[yi])?(e?th)?$/.test(strPos)?5:/^(6|six)(teen|t[yi])?(e?th)?$/.test(strPos)?6:/^(7|seven)(teen|t[yi])?(e?th)?$/.test(strPos)?7:/^(8|eight?)(teen|t[yi])?(e?th)?$/.test(strPos)?8:/^(9|nine?)(teen|t[yi])?(e?th)?$/.test(strPos)?9:/^(10|ten)(th)?$/.test(strPos)?10:1)*(/ty|ieth$/.test(strPos)?10:1)+(/teen(th)?$/.test(strPos)?10:0))*2;var responseDiv=document.querySelector(`${responseDivSelector}:nth-of-type(${nthOfResponse})`);return responseDiv?responseDiv.textContent:""}},getSendButton:function(){return document.querySelector('form button[class*="bottom"]')},getStopGeneratingButton:function(){for(var formButton of document.querySelectorAll("form button")){if(formButton.textContent.toLowerCase().includes("stop")){return formButton}}},getTextarea:function(){return document.querySelector("form textarea")},isDarkMode:function(){return document.documentElement.classList.contains("dark")},isIdle:function(){return new Promise(resolve=>{var intervalId=setInterval(()=>{if(chatgpt.getRegenerateButton()){clearInterval(intervalId);resolve()}},100)})},isLightMode:function(){return document.documentElement.classList.contains("light")},notify:function(msg,position,notifDuration,shadow){notifDuration=notifDuration?+notifDuration:1.75;var fadeDuration=.6;var vpYoffset=23,vpXoffset=27;var notificationDiv=document.createElement("div");notificationDiv.id=Math.floor(Math.random()*1e6)+Date.now();notificationDiv.style.cssText="/* Box style */   background-color: black ; padding: 10px ; border-radius: 8px ; "+"/* Visibility */  opacity: 0 ; position: fixed ; z-index: 9999 ; font-size: 1.8rem ; color: white ; "+(shadow?"box-shadow: -8px 13px 25px 0 "+(/\b(shadow|on)\b/gi.test(shadow)?"gray":shadow):"");document.body.appendChild(notificationDiv);notificationDiv.isTop=!position||!/low|bottom/i.test(position)?true:false;notificationDiv.isRight=!position||!/left/i.test(position)?true:false;notificationDiv.quadrant=(notificationDiv.isTop?"top":"bottom")+(notificationDiv.isRight?"Right":"Left");notifyProps=JSON.parse(localStorage.notifyProps);notifyProps.quadrants[notificationDiv.quadrant].push(notificationDiv.id);localStorage.notifyProps=JSON.stringify(notifyProps);notificationDiv.style.top=notificationDiv.isTop?vpYoffset.toString()+"px":"";notificationDiv.style.bottom=!notificationDiv.isTop?vpYoffset.toString()+"px":"";notificationDiv.style.right=notificationDiv.isRight?vpXoffset.toString()+"px":"";notificationDiv.style.left=!notificationDiv.isRight?vpXoffset.toString()+"px":"";var thisQuadrantDivIDs=notifyProps.quadrants[notificationDiv.quadrant];if(thisQuadrantDivIDs.length>1){var divsToMove=thisQuadrantDivIDs.slice(0,-1);for(var j=0;j<divsToMove.length;j++){var oldDiv=document.getElementById(divsToMove[j]);var offsetProp=oldDiv.style.top?"top":"bottom";var vOffset=+oldDiv.style[offsetProp].match(/\d+/)[0]+5+oldDiv.getBoundingClientRect().height;oldDiv.style[offsetProp]=`${vOffset}px`}}notificationDiv.innerHTML=msg;notificationDiv.style.transition="none";notificationDiv.style.opacity=1;var hideDelay=fadeDuration>notifDuration?0:notifDuration-fadeDuration;notificationDiv.hideTimer=setTimeout(function hideNotif(){notificationDiv.style.transition="opacity "+fadeDuration.toString()+"s";notificationDiv.style.opacity=0;notificationDiv.hideTimer=null},hideDelay*1e3);notificationDiv.destroyTimer=setTimeout(function destroyNotif(){notificationDiv.remove();notifyProps=JSON.parse(localStorage.notifyProps);notifyProps.quadrants[notificationDiv.quadrant].shift();localStorage.notifyProps=JSON.stringify(notifyProps);notificationDiv.destroyTimer=null},Math.max(fadeDuration,notifDuration)*1e3)},printAllFunctions:function(){var functionNames=[];for(var prop in this){if(typeof this[prop]==="function"){var chatgptIsParent=!Object.keys(this).find(obj=>Object.keys(this[obj]).includes(this[prop].name));var functionParent=chatgptIsParent?"chatgpt":"other";functionNames.push([functionParent,prop])}else if(typeof this[prop]==="object"){for(var nestedProp in this[prop]){if(typeof this[prop][nestedProp]==="function"){functionNames.push([prop,nestedProp])}}}}functionNames.sort(function(a,b){return a[0].localeCompare(b[0])||a[1].localeCompare(b[1])});for(var functionName of functionNames){console.info("chatgpt.js >> "+(/chatgpt|other/.test(functionName[0])?"":functionName[0]+".")+functionName[1]+": ["+(functionName[0]==="chatgpt"&&functionName[1]===this[functionName[1]].name||!/chatgpt|other/.test(functionName[0])?"Function":"Alias of")+": "+(functionName[0]==="chatgpt"?this[functionName[1]].name:functionName[0]!=="other"?functionName[0]+"."+functionName[1]:Object.keys(this).find(obj=>Object.keys(this[obj]).includes(this[functionName[1]].name))+"."+this[functionName[1]].name)+"]")}},regenerate:function(){for(var formButton of document.querySelectorAll("form button")){if(formButton.textContent.toLowerCase().includes("regenerate")){formButton.click;return}}},scrollToBottom:function(){document.querySelector('button[class*="cursor"]').click()},send:function(msg){var textArea=document.querySelector("form textarea");textArea.value=msg;textArea.dispatchEvent(new KeyboardEvent("keydown",{keyCode:13,bubbles:true}))},sendInNewChat:function(msg){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.includes(navLinkLabels.newChat)){navLink.click();break}}setTimeout(function(){chatgpt.send(msg)},500)},startNewChat:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.includes(navLinkLabels.newChat)){navLink.click();return}}},stop:function(){for(var formButton of document.querySelectorAll("form button")){if(formButton.textContent.toLowerCase().includes("stop")){formButton.click();return}}},toggleScheme:function(){for(var navLink of document.querySelectorAll("nav > a")){if(navLink.text.toLowerCase().includes("mode")){navLink.click();return}}}};var buttonActions=["click","get"];for(var buttonAction of buttonActions){chatgpt[buttonAction+"Button"]=function handleButton(buttonIdentifier){var button=buttonIdentifier.match(/^[.#]/)?document.querySelector(buttonIdentifier):/send/i.test(buttonIdentifier)?document.querySelector('form button[class*="bottom"]'):/scroll/i.test(buttonIdentifier)?document.querySelector('button[class*="cursor"]'):function(){for(var button of document.querySelectorAll("button")){if(button.textContent.toLowerCase().includes(buttonIdentifier.toLowerCase())){return button}}for(var navLink of document.querySelectorAll("nav > a")){if(navLink.textContent.toLowerCase().includes(buttonIdentifier.toLowerCase())){return navLink}}}();if(buttonAction==="click"){button.click()}else{return button}}}for(var prop in chatgpt){for(var subAliases of functionAliases){if(subAliases.some(subAlias=>subAlias.includes(prop))){if(subAliases.some(element=>element.includes("."))){var nestedFunction=subAliases.find(element=>element.includes(".")).split(".")[1];for(var nestAlias of subAliases){if(nestAlias.match(/^(\w+)/)[1]!==prop){chatgpt[nestAlias]=chatgpt[prop][nestedFunction]}}}else{for(var dirAlias of subAliases){if(dirAlias!==prop){chatgpt[dirAlias]=chatgpt[prop]}}}}}do{var newFunctionsCreated=false;for(var funcName in chatgpt){if(typeof chatgpt[funcName]==="function"){var funcWords=funcName.split(/(?=[A-Zs])/);for(var funcWord of funcWords){var synonymValues=[].concat(...synonyms.filter(arr=>arr.includes(funcWord.toLowerCase())).map(arr=>arr.filter(synonym=>synonym!==funcWord.toLowerCase())));for(var synonym of synonymValues){var newWords=[...funcWords];newWords[newWords.indexOf(funcWord)]=synonym;var newFuncName=newWords.map((newWord,index)=>index===0||newWord==="s"?newWord:newWord.charAt(0).toUpperCase()+newWord.slice(1)).join("");if(!chatgpt[newFuncName]){chatgpt[newFuncName]=chatgpt[funcName];newFunctionsCreated=true}}}}}}while(newFunctionsCreated)}try{window.chatgpt=chatgpt}catch(error){}try{module.exports=chatgpt}catch(error){}})();